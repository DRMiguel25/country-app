<div class="container mx-auto px-4 py-8">
  <h1 class="text-3xl font-bold mb-6">Buscar por regi√≥n</h1>
  
  <!-- Botones de regi√≥n -->
  <div class="flex flex-wrap gap-2 mb-6">
    @for (region of regions; track region.value) {
      <button 
        class="btn"
        [class.btn-primary]="selectedRegion() === region.value"
        [class.btn-outline]="selectedRegion() !== region.value"
        (click)="selectRegion(region.value)"
      >
        {{ region.name }}
      </button>
    }
    
    @if (selectedRegion()) {
      <button 
        class="btn btn-ghost"
        (click)="clearFilter()"
      >
        Limpiar
      </button>
    }
  </div>

  <!-- Tabla de resultados (SIEMPRE VISIBLE) -->
  <div class="overflow-x-auto">
    <table class="table table-zebra w-full">
      <thead>
        <tr>
          <th class="w-16">Icono</th>
          <th class="w-20">Bandera</th>
          <th>Nombre</th>
          <th>Capital</th>
          <th>Poblaci√≥n</th>
        </tr>
      </thead>
      <tbody>
        @if (isLoading()) {
          <tr>
            <td colspan="5" class="text-center py-8">
              <span class="loading loading-spinner loading-lg"></span>
            </td>
          </tr>
        } @else if (countries().length === 0) {
          <tr>
            <td colspan="5" class="text-center py-8">
              <div class="alert alert-info inline-flex">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <span>No se encontraron resultados</span>
              </div>
            </td>
          </tr>
        } @else {
          @for (country of countries(); track country.code) {
            <tr class="hover cursor-pointer" (click)="viewCountry(country.code)">
              <td>
                <span class="text-2xl">üåç</span>
              </td>
              <td>
                <img [src]="country.flag" [alt]="country.name" class="w-12 h-8 object-cover rounded shadow-sm">
              </td>
              <td class="font-medium">{{ country.name }}</td>
              <td>{{ country.capital }}</td>
              <td>{{ country.population | number }}</td>
            </tr>
          }
        }
      </tbody>
    </table>
  </div>
</div>
